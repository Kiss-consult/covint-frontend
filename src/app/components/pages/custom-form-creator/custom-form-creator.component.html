<div class="custom-form-creator">
    <div class="question-selection">
        <div *ngFor="let question of availableQuestions">
            <input type="checkbox" id="{{question.type}}" 
                   [(ngModel)]="question.selected" 
                   (change)="toggleQuestionSelection(question)">
            <label for="{{question.type}}">{{question.label}}</label>
        </div>
    </div>
    <div style="text-align: left;">
        <label for="backgroundColorPicker">Háttérszín:</label>
        <input [(colorPicker)]="backgroundColor" [style.background]="backgroundColor" id="backgroundColorPicker" style="align-items:start;">
        <label for="textColorPicker">Betűszín</label>
        <input [(colorPicker)]="textColor" [style.background]="textColor" id="textColorPicker">
      </div>
      <div class="form-preview" [ngStyle]="{'background-color': backgroundColor, 'color': textColor}" style="align-items: center;">
        <img src="https://covint.hu/wp-content/uploads/2022/02/covint-b.png" alt="alternatetext" >
        <h4 style="font-size:45px">Kérdőív Készítő</h4>
        <div *ngFor="let question of selectedQuestions; let i = index" cdkDrag class="preview-item">
            <div class="preview-content">
                <div class="question-content">
                    <ng-container *ngIf="question.type === 'text'">
                        <label class="question-label">{{ question.label }}</label>
                        <br>
                        <input type="text" [name]="question.id">
                    </ng-container>
                    <ng-container *ngIf="question.type === 'yesno'">
                        <label class="question-label">{{ question.label }}</label>
                        <div>
                            <input type="radio" [name]="question.id" value="Yes"> Igen
                            <input type="radio" [name]="question.id" value="No"> Nem
                        </div>
                    </ng-container>
                    <ng-container *ngIf="question.type === 'yesnohospital'">
                        <label class="question-label">{{ question.label }}</label>
                        <div>
                            <input type="radio" [name]="question.id" value="Yes"> Igen
                            <input type="radio" [name]="question.id" value="No"> Nem
                        </div>
                    </ng-container>
                    <ng-container *ngIf="isMultiSelectQuestion(question)">
                        <label class="question-label">{{ question.label }}</label>
                        <div *ngFor="let option of getOptions(question)">
                            <input type="checkbox" [id]="option" (change)="toggleSelection(question, option)">
                            <label [for]="option">{{ option }}</label>
                        </div>
                    </ng-container>
                    <br>
                </div>
            </div>
        </div>
        <button type="button" disabled>Küldés</button>
    </div>    
    <button (click)="renderForm()">Generálás</button>
    <textarea rows="20" cols="150" readonly>{{ generatedFormHtml }}</textarea>
</div>
