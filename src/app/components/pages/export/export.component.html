<h1>
  Export
</h1>

<br>
<br>

<div class="container">
  <div style="display: flex;">
    <label class="text" for="sex">Páciens neme</label>
    <select class="droptextbox" name="sex" id="sex" [(ngModel)]="filter.Sex">
      <option value="Férfi">Férfi</option>
      <option value="Nő">Nő</option>
      <option value="Kumulált">Kumulált</option>
    </select>

    <form>
      <label class="text" for="age">Páciens kora -tól</label>
      <input class="droptextbox" type="number" id="agefrom" name="agefrom" min="1" [(ngModel)]="filter.AgeFrom">
    </form>

    <form>
      <label class="text" for="age">Páciens kora -ig</label>
      <input class="droptextbox" type="number" id="ageto" name="ageto" min="1" [(ngModel)]="filter.AgeTo">
    </form>
  </div>

  <div>
    <label class="text" style="margin-right: 50px;"> Validált</label>
    <select class="droptextbox" name="validity" id="validity" [(ngModel)]="filter.Validity">
      <option value="validated">Validált</option>
      <option value="unvalidated">Nem validált</option>
      <option value="Kumulált">Kumulált</option>
    </select>
  </div>

  <div class="container01">
    <select class="droptextbox" type="text" id="markers" name="markers" [(ngModel)]="newBno">
      <ng-container *ngFor="let illness of illnesses">
        <optgroup label="{{illness.Names[0]}}">
          <ng-container *ngFor="let bno of illness.BnoCodes">
            <option value="{{bno}}">{{bno}}</option>
          </ng-container>
        </optgroup>
      </ng-container>
    </select>

    <br>

    <button (click)="getMarker()">Hozzáadás</button>
  </div>

  <div class="addedtext">
    <div *ngFor="let marker of filter.Markers">
      <div
        style="display: flex; justify-content: space-between; align-items: center; border-bottom: solid 3px #42a160; padding-bottom: 20px; padding-top: 20px;">
        <p>{{marker.BnoCode}} - {{marker.Names[0]}}</p>
        <button (click)="removeMarker(marker)">Törlés</button>
      </div>
    </div>
  </div>

  <br>
  <button id="okebutton" (click)="finish()">Kész</button>


  <!--TABLE-->

  <div class="mat-elevation-z8">
    <table mat-table [dataSource]="exports" matSort>
      <!-- Oszlopok hozzáadása -->

      <!-- Position Column -->
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> No. </th>
        <td mat-cell *matCellDef="let export"> {{export.Validity}} </td>
      </ng-container>

      <ng-container matColumnDef="sex">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nem</th>b
        <td mat-cell *matCellDef="let export">{{ export.Sex }}</td>
      </ng-container>

      <ng-container matColumnDef="age">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Kor</th>
        <td mat-cell *matCellDef="let export">{{ export.Age }}</td>
      </ng-container>

      <ng-container matColumnDef="markers">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Markerek</th>
        <td mat-cell *matCellDef="let export" >{{ export.Markers[0].Names[0] }}</td>
      </ng-container>

     
      <ng-container matColumnDef="hospitalized">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Kórház esély %</th>
        <td mat-cell *matCellDef="let export">{{ export.Hospitalized }}</td>
      </ng-container>

      <ng-container matColumnDef="dead">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Halálozási esély %</th>
        <td mat-cell *matCellDef="let export">{{ export.Dead }}</td>
      </ng-container>

      <ng-container matColumnDef="count">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Összes adat</th>
        <td mat-cell *matCellDef="let export">{{ export.Count }}</td>
      </ng-container>
      <!-- További oszlopok hozzáadása szükség esetén -->

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator [pageSizeOptions]="pageSizeOptions" showFirstLastButtons></mat-paginator>
  </div>

 
 
 

  <button id="exportbutton" (click)="export()">Export</button>